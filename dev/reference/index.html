<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · ItPropFit.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://vankesteren.github.io/ItPropFit.jl/reference/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ItPropFit.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/vankesteren/ItPropFit.jl/blob/main/docs/src/reference.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><ul><li><a href="#Core.Array-Union{Tuple{ArrayFactors{T}}, Tuple{T}} where T"><code>Core.Array</code></a></li><li><a href="#ItPropFit.ArrayFactors"><code>ItPropFit.ArrayFactors</code></a></li><li><a href="#ItPropFit.ipf-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Vector{&lt;:Real}}}"><code>ItPropFit.ipf</code></a></li><li><a href="#ItPropFit.margins-Tuple{AbstractArray{&lt;:Real}}"><code>ItPropFit.margins</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Core.Array-Union{Tuple{ArrayFactors{T}}, Tuple{T}} where T" href="#Core.Array-Union{Tuple{ArrayFactors{T}}, Tuple{T}} where T"><code>Core.Array</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Array(A::ArrayFactors{T})</code></pre><p>Create an array out of an ArrayFactors object.</p><p><strong>Arguments</strong></p><ul><li><code>A::ArrayFactors{T}</code>: Array factors</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; fac = ArrayFactors([[1,2,3], [4,5], [6,7]])
Factors for array of size (3, 2, 2):
    1: [1, 2, 3]
    2: [4, 5]
    3: [6, 7]

julia&gt; Array(fac)
3×2×2 Array{Int64, 3}:
[:, :, 1] =
 24  30
 48  60
 72  90

[:, :, 2] =
 28   35
 56   70
 84  105</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/vankesteren/ItPropFit.jl/blob/bf1c3a8f3b6951345b72f3ebae3a44b621802589/src/ArrayFactors.jl#L46-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ItPropFit.ArrayFactors" href="#ItPropFit.ArrayFactors"><code>ItPropFit.ArrayFactors</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ArrayFactors(f)</code></pre><p>Array factors are defined such that the array&#39;s elements are their products: <code>M[i, j, ..., l] = f[1][i] * f[2][j] * ... * f[3][l]</code></p><p>see also: <a href="#ItPropFit.ipf-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Vector{&lt;:Real}}}"><code>ipf</code></a>, <a href="#ItPropFit.margins-Tuple{AbstractArray{&lt;:Real}}"><code>margins</code></a>, <a href="#Core.Array-Union{Tuple{ArrayFactors{T}}, Tuple{T}} where T"><code>Array</code></a></p><p><strong>Fields</strong></p><ul><li><code>f::Vector{Vector{T}}</code>: Vector of array factors</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; AF = ArrayFactors([[1,2,3], [4,5]])
Factors for array of size (3, 2):
  1: [1, 2, 3]
  2: [4, 5]

julia&gt; eltype(AF)
Int64

julia&gt; Array(AF)
3×2 Matrix{Int64}:
  4   5
  8  10
 12  15</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/vankesteren/ItPropFit.jl/blob/bf1c3a8f3b6951345b72f3ebae3a44b621802589/src/ArrayFactors.jl#L1-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ItPropFit.ipf-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Vector{&lt;:Real}}}" href="#ItPropFit.ipf-Tuple{AbstractArray{&lt;:Real}, Vector{&lt;:Vector{&lt;:Real}}}"><code>ItPropFit.ipf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ipf(X, mar[; maxiter, tol])</code></pre><p>Perform iterative proportional fitting (factor method). The array (X) can be any number of dimensions, as long as the margins have the correct size. Will return the weights as an ArrayFactors object. </p><p>see also: <a href="#ItPropFit.ArrayFactors"><code>ArrayFactors</code></a>, <a href="#ItPropFit.margins-Tuple{AbstractArray{&lt;:Real}}"><code>margins</code></a></p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{&lt;:Real}</code>: Array to be adjusted</li><li><code>mar::Vector{&lt;:Vector{&lt;:Real}}</code>: Target margins</li><li><code>maxiter::Int=1000</code>: Maximum number of iterations</li><li><code>tol::Float64=1e-10</code>: Factor change tolerance for convergence</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; X = [40 30 20 10; 35 50 100 75; 30 80 70 120; 20 30 40 50]
julia&gt; u = [150, 300, 400, 150]
julia&gt; v = [200, 300, 400, 100]
julia&gt; AF = ipf(X, [u, v])
Factors for array of size (4, 4):
    1: [1.2513914546748504, 1.1069369933423092, 1.4659850061977997, 1.1146335537777001]
    2: [1.2897345098410427, 1.2314947369488765, 1.4137981417470917, 0.305638354490167]

julia&gt; Array(AF) .* X
4×4 Matrix{Float64}:
 64.5585   46.2325   35.3843   3.82473
 49.9679   68.1594  156.499   25.3742
 56.7219  144.428   145.082   53.7673
 28.7516   41.18     63.0347  17.0337</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/vankesteren/ItPropFit.jl/blob/bf1c3a8f3b6951345b72f3ebae3a44b621802589/src/ipf.jl#L1-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ItPropFit.margins-Tuple{AbstractArray{&lt;:Real}}" href="#ItPropFit.margins-Tuple{AbstractArray{&lt;:Real}}"><code>ItPropFit.margins</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">margins(X)</code></pre><p>Compute the marginal sum totals for an array.</p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{&lt;: Number}</code>: array with any number of dimensions</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; margins(reshape(1:12, 2, 3, 2))
3-element Vector{Vector{Int64}}:
 [36, 42]
 [18, 26, 34]
 [21, 57]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/vankesteren/ItPropFit.jl/blob/bf1c3a8f3b6951345b72f3ebae3a44b621802589/src/utils.jl#L1-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Wednesday 27 July 2022 06:12">Wednesday 27 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
